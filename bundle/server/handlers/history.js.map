{"version":3,"file":"history.js","sourceRoot":"","sources":["../../src/handlers/history.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EAAE,iBAAiB,EAAE,MAAM,gCAAgC,CAAC;AAEnE,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAMhE,OAAO,EAAE,aAAa,EAAE,MAAM,WAAW,CAAC;AAM1C,MAAM,OAAO,cAAc;IACjB,eAAe,CAAmB;IAE1C,YAAY,UAAiC,EAAE;QAC7C,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;IACjD,CAAC;IAED;;OAEG;IACK,oBAAoB,CAC1B,QAAyB,EACzB,SAA8C;QAE9C,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,SAAS,KAAK,UAAU,EAAE,CAAC;YAClD,OAAO,QAAQ,CAAC;QAClB,CAAC;QAED,IAAI,SAAS,KAAK,SAAS,EAAE,CAAC;YAC5B,2CAA2C;YAC3C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,EAAE,GAAG,QAAmC,CAAC;YAC/D,OAAO,IAAuB,CAAC;QACjC,CAAC;QAED,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,KAAyB;QACpC,MAAM,GAAG,GAAG,aAAa,CAAgC,KAAK,CAAC,CAAC;QAChE,MAAM,cAAc,GAAG,iBAAiB,EAAE,CAAC;QAE3C,IAAI,CAAC;YACH,IAAI,QAAyB,CAAC;YAE9B,QAAQ,GAAG,CAAC,MAAM,EAAE,CAAC;gBACnB,KAAK,MAAM,CAAC,CAAC,CAAC;oBACZ,IAAI,UAAU,CAAC;oBACf,IAAI,GAAG,CAAC,YAAY,EAAE,CAAC;wBACrB,UAAU,GAAG,cAAc,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrD,CAAC;yBAAM,IAAI,GAAG,CAAC,aAAa,EAAE,CAAC;wBAC7B,UAAU,GAAG,cAAc,CAAC,gBAAgB,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;oBAC7E,CAAC;yBAAM,CAAC;wBACN,UAAU,GAAG,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;oBACzD,CAAC;oBAED,QAAQ,GAAG;wBACT,OAAO,EAAE,IAAI;wBACb,MAAM,EAAE,MAAM;wBACd,UAAU,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;4BAClC,EAAE,EAAE,EAAE,CAAC,EAAE;4BACT,IAAI,EAAE,EAAE,CAAC,IAAI;4BACb,MAAM,EAAE,EAAE,CAAC,MAAM;4BACjB,aAAa,EAAE,EAAE,CAAC,aAAa;4BAC/B,KAAK,EAAE,SAAS;4BAChB,OAAO,EAAE,EAAE,CAAC,MAAM,KAAK,SAAS;4BAChC,QAAQ,EAAE,EAAE,CAAC,QAAQ;4BACrB,SAAS,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE;4BAC3C,KAAK,EAAE,EAAE,CAAC,YAAY;yBACvB,CAAC,CAAC;wBACH,OAAO,EAAE,aAAa,UAAU,CAAC,MAAM,eAAe;qBACvD,CAAC;oBACF,MAAM;gBACR,CAAC;gBAED,KAAK,KAAK,CAAC,CAAC,CAAC;oBACX,MAAM,SAAS,GAAG,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,WAAY,CAAC,CAAC;oBAE3D,IAAI,CAAC,SAAS,EAAE,CAAC;wBACf,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE,mBAAmB,CAAC;gCACzB,YAAY,EAAE,WAAW;gCACzB,UAAU,EAAE,GAAG,CAAC,WAAY;gCAC5B,gBAAgB,EAAE,kDAAkD;6BACrE,CAAC;yBACH,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,QAAQ,GAAG;wBACT,OAAO,EAAE,IAAI;wBACb,MAAM,EAAE,KAAK;wBACb,SAAS,EAAE;4BACT,EAAE,EAAE,SAAS,CAAC,EAAE;4BAChB,IAAI,EAAE,SAAS,CAAC,IAAI;4BACpB,MAAM,EAAE,SAAS,CAAC,MAAM;4BACxB,MAAM,EAAE,SAAS,CAAC,MAAM;4BACxB,MAAM,EAAE,SAAS,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM;4BACrE,aAAa,EAAE,SAAS,CAAC,aAAa;4BACtC,KAAK,EAAE,SAAS;4BAChB,OAAO,EAAE,SAAS,CAAC,MAAM,KAAK,SAAS;4BACvC,QAAQ,EAAE,SAAS,CAAC,QAAQ;4BAC5B,SAAS,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE;4BAClD,KAAK,EAAE,SAAS,CAAC,YAAY;yBAC9B;wBACD,OAAO,EAAE,qBAAqB;qBAC/B,CAAC;oBACF,MAAM;gBACR,CAAC;gBAED,KAAK,OAAO,CAAC,CAAC,CAAC;oBACb,MAAM,KAAK,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;oBAExC,QAAQ,GAAG;wBACT,OAAO,EAAE,IAAI;wBACb,MAAM,EAAE,OAAO;wBACf,KAAK,EAAE;4BACL,eAAe,EAAE,KAAK,CAAC,eAAe;4BACtC,oBAAoB,EAAE,KAAK,CAAC,oBAAoB;4BAChD,gBAAgB,EAAE,KAAK,CAAC,gBAAgB;4BACxC,WAAW,EAAE,KAAK,CAAC,WAAW;4BAC9B,WAAW,EAAE,KAAK,CAAC,eAAe;4BAClC,gBAAgB,EAAE,EAAE;4BACpB,cAAc,EAAE,KAAK,CAAC,gBAAgB;yBACvC;wBACD,OAAO,EAAE,GAAG,KAAK,CAAC,eAAe,0BAA0B,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,gBAAgB;qBACxG,CAAC;oBACF,MAAM;gBACR,CAAC;gBAED,KAAK,MAAM,CAAC,CAAC,CAAC;oBACZ,MAAM,SAAS,GAAG,cAAc,CAAC,eAAe,CAAC,GAAG,CAAC,aAAc,CAAC,CAAC;oBAErE,IAAI,CAAC,SAAS,EAAE,CAAC;wBACf,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE,mBAAmB,CAAC;gCACzB,YAAY,EAAE,WAAW;gCACzB,UAAU,EAAE,oBAAoB;gCAChC,gBAAgB,EACd,+FAA+F;gCACjG,gBAAgB,EAAE,GAAG,CAAC,aAAa;6BACpC,CAAC;yBACH,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;wBAC1B,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE,mBAAmB,CAAC;gCACzB,YAAY,EAAE,UAAU;gCACxB,UAAU,EAAE,SAAS,CAAC,EAAE;gCACxB,gBAAgB,EACd,0GAA0G;6BAC7G,CAAC;yBACH,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;wBAC1B,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE;gCACL,IAAI,EAAE,yBAAyB;gCAC/B,OAAO,EAAE,gCAAgC;gCACzC,SAAS,EAAE,KAAK;6BACjB;yBACF,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,IAAI,CAAC;wBACH,wBAAwB;wBACxB,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;wBAE5E,4BAA4B;wBAC5B,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,GAAG,CAAC,aAAc,CAAC,CAAC;wBAE9D,QAAQ,GAAG;4BACT,OAAO,EAAE,IAAI;4BACb,MAAM,EAAE,MAAM;4BACd,qBAAqB,EAAE,UAAU;4BACjC,iBAAiB,EAAE;gCACjB,EAAE,EAAE,SAAS,CAAC,EAAE;gCAChB,IAAI,EAAE,SAAS,CAAC,IAAI;gCACpB,MAAM,EAAE,SAAS,CAAC,MAAM;gCACxB,SAAS,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE;6BACnD;4BACD,OAAO,EAAE,SAAS,SAAS,CAAC,IAAI,IAAI,SAAS,CAAC,MAAM,YAAY;yBACjE,CAAC;oBACJ,CAAC;oBAAC,OAAO,KAAK,EAAE,CAAC;wBACf,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE;gCACL,IAAI,EAAE,yBAAyB;gCAC/B,OAAO,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;gCAC/D,SAAS,EAAE,IAAI;6BAChB;yBACF,CAAC;oBACJ,CAAC;oBACD,MAAM;gBACR,CAAC;gBAED,KAAK,MAAM,CAAC,CAAC,CAAC;oBACZ,MAAM,SAAS,GAAG,cAAc,CAAC,eAAe,CAAC,GAAG,CAAC,aAAc,CAAC,CAAC;oBAErE,IAAI,CAAC,SAAS,EAAE,CAAC;wBACf,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE,mBAAmB,CAAC;gCACzB,YAAY,EAAE,WAAW;gCACzB,UAAU,EAAE,oBAAoB;gCAChC,gBAAgB,EACd,yFAAyF;gCAC3F,gBAAgB,EAAE,GAAG,CAAC,aAAa;6BACpC,CAAC;yBACH,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED;;;;;;;;;uBASG;oBACH,QAAQ,GAAG;wBACT,OAAO,EAAE,KAAK;wBACd,KAAK,EAAE;4BACL,IAAI,EAAE,qBAAqB;4BAC3B,OAAO,EACL,0FAA0F;4BAC5F,OAAO,EAAE;gCACP,MAAM,EAAE,uEAAuE;6BAChF;4BACD,SAAS,EAAE,KAAK;yBACjB;qBACF,CAAC;oBACF,MAAM;gBACR,CAAC;gBAED,KAAK,WAAW,CAAC,CAAC,CAAC;oBACjB,MAAM,SAAS,GAAG,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,WAAY,CAAC,CAAC;oBAE3D,IAAI,CAAC,SAAS,EAAE,CAAC;wBACf,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE,mBAAmB,CAAC;gCACzB,YAAY,EAAE,WAAW;gCACzB,UAAU,EAAE,GAAG,CAAC,WAAY;gCAC5B,gBAAgB,EAAE,kDAAkD;6BACrE,CAAC;yBACH,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;wBAC1B,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE,mBAAmB,CAAC;gCACzB,YAAY,EAAE,UAAU;gCACxB,UAAU,EAAE,SAAS,CAAC,EAAE;gCACxB,gBAAgB,EACd,4GAA4G;6BAC/G,CAAC;yBACH,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;wBAC1B,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE;gCACL,IAAI,EAAE,yBAAyB;gCAC/B,OAAO,EAAE,gCAAgC;gCACzC,SAAS,EAAE,KAAK;6BACjB;yBACF,CAAC;wBACF,MAAM;oBACR,CAAC;oBAED,IAAI,CAAC;wBACH,sDAAsD;wBACtD,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;wBAE5E,QAAQ,GAAG;4BACT,OAAO,EAAE,IAAI;4BACb,MAAM,EAAE,WAAW;4BACnB,qBAAqB,EAAE,UAAU;4BACjC,iBAAiB,EAAE;gCACjB,EAAE,EAAE,SAAS,CAAC,EAAE;gCAChB,IAAI,EAAE,SAAS,CAAC,IAAI;gCACpB,MAAM,EAAE,SAAS,CAAC,MAAM;gCACxB,SAAS,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE;6BACnD;4BACD,OAAO,EAAE,4BAA4B,SAAS,CAAC,IAAI,IAAI,SAAS,CAAC,MAAM,YAAY;yBACpF,CAAC;oBACJ,CAAC;oBAAC,OAAO,KAAK,EAAE,CAAC;wBACf,QAAQ,GAAG;4BACT,OAAO,EAAE,KAAK;4BACd,KAAK,EAAE;gCACL,IAAI,EAAE,yBAAyB;gCAC/B,OAAO,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;gCAC/D,SAAS,EAAE,IAAI;6BAChB;yBACF,CAAC;oBACJ,CAAC;oBACD,MAAM;gBACR,CAAC;gBAED,KAAK,OAAO,CAAC,CAAC,CAAC;oBACb,IAAI,OAAe,CAAC;oBAEpB,IAAI,GAAG,CAAC,aAAa,EAAE,CAAC;wBACtB,OAAO,GAAG,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAClE,CAAC;yBAAM,CAAC;wBACN,cAAc,CAAC,KAAK,EAAE,CAAC;wBACvB,OAAO,GAAG,cAAc,CAAC,IAAI,EAAE,CAAC;oBAClC,CAAC;oBAED,QAAQ,GAAG;wBACT,OAAO,EAAE,IAAI;wBACb,MAAM,EAAE,OAAO;wBACf,iBAAiB,EAAE,OAAO;wBAC1B,OAAO,EAAE,GAAG,CAAC,aAAa;4BACxB,CAAC,CAAC,WAAW,OAAO,iCAAiC,GAAG,CAAC,aAAa,EAAE;4BACxE,CAAC,CAAC,eAAe,OAAO,eAAe;qBAC1C,CAAC;oBACF,MAAM;gBACR,CAAC;gBACD;oBACE,QAAQ,GAAG;wBACT,OAAO,EAAE,KAAK;wBACd,KAAK,EAAE;4BACL,IAAI,EAAE,gBAAgB;4BACtB,OAAO,EAAE,mBAAoB,GAA0B,CAAC,MAAM,EAAE;4BAChE,SAAS,EAAE,KAAK;yBACjB;qBACF,CAAC;YACN,CAAC;YAED,+CAA+C;YAC/C,MAAM,SAAS,GAAG,GAAG,CAAC,SAAS,IAAI,UAAU,CAAC;YAC9C,MAAM,gBAAgB,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;YAExE,OAAO,EAAE,QAAQ,EAAE,gBAAgB,EAAE,CAAC;QACxC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,kCAAkC;YAClC,OAAO;gBACL,QAAQ,EAAE;oBACR,OAAO,EAAE,KAAK;oBACd,KAAK,EAAE;wBACL,IAAI,EAAE,gBAAgB;wBACtB,OAAO,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;wBAC/D,SAAS,EAAE,KAAK;qBACjB;iBACF;aACF,CAAC;QACJ,CAAC;IACH,CAAC;CACF"}